---
- name: Create a directory to store Tomcat
      file:
        path: /opt/tomcat
        state: directory

    - name: Download Apache Tomcat 10 tar.gz with Basic Authentication
      get_url:
        url: "https://username:password@downloads.apache.org/tomcat/tomcat-10/v10.0.15/bin/apache-tomcat-10.0.15.tar.gz"
        dest: /opt/tomcat/apache-tomcat-10.0.15.tar.gz
        mode: '0644'
        timeout: 120
        force_basic_auth: yes

    - name: Extract Apache Tomcat 10
      unarchive:
        src: /opt/tomcat/apache-tomcat-10.0.15.tar.gz
        dest: /opt/tomcat
        remote_src: yes
        creates: /opt/tomcat/apache-tomcat-10.0.15